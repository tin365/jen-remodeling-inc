(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{2890:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var l=r(2373);let s="https://eqvkvorzzyqtfvsnigru.supabase.co",i="sb_publishable_C9V3cLFgWxrreFFFvHil3g_xbIsgQX8";if(!s||!i)throw Error("Missing Supabase env vars. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY. For GitHub Actions: add them in Settings → Secrets and variables → Actions.");let a=(0,l.UU)(s,i)},5275:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var l=r(5155),s=r(2115),i=r(2619),a=r.n(i);let o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:n="",children:d,iconNode:m,...x}=e;return(0,s.createElement)("svg",{ref:t,...c,width:l,height:l,stroke:r,strokeWidth:a?24*Number(i)/Number(l):i,className:o("lucide",n),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),m=((e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:i,...a}=r;return(0,s.createElement)(d,{ref:l,iconNode:t,className:o("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...a})});return r.displayName=n(e),r})("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var x=r(2890);let h=[{id:"all",label:"All Projects"},{id:"basement",label:"Basement"},{id:"bathroom",label:"Bathroom"},{id:"kitchen",label:"Kitchen"},{id:"living-room",label:"Living Room"}];function p(){let[e,t]=(0,s.useState)("all"),[r,i]=(0,s.useState)(null),[o,n]=(0,s.useState)(null),[c,d]=(0,s.useState)([]),[p,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=!1;return async function(){try{let{data:t}=await x.N.from("projects").select("id, title, category, description, sort_order").order("sort_order",{ascending:!0});if(e)return;if(!(null==t?void 0:t.length)){d([]),u(!0);return}let{data:r}=await x.N.from("project_images").select("project_id, url, label, sort_order").order("sort_order",{ascending:!0}),l=null!=r?r:[],s=t.map(e=>{var t;let r=l.filter(t=>t.project_id===e.id&&"before"===t.label).sort((e,t)=>e.sort_order-t.sort_order).map(e=>e.url),s=l.filter(t=>t.project_id===e.id&&"after"===t.label).sort((e,t)=>e.sort_order-t.sort_order).map(e=>e.url);return{id:e.id,category:e.category,title:e.title,description:null!=(t=e.description)?t:"",before:r,after:s}});d(s),u(!0)}catch(e){d([]),u(!0)}}(),()=>{e=!0}},[]);let f="all"===e?c:c.filter(t=>t.category===e),g="inline-block py-2 px-4 text-sm no-underline border border-ink font-[inherit]";return(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(o?n(null):i(null))};return r&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[r,o]),(0,l.jsxs)("div",{className:"min-h-screen bg-paper",children:[(0,l.jsx)("header",{className:"py-8 sm:py-12 px-4 sm:px-6 text-center border-b border-rule-light",children:(0,l.jsxs)("div",{className:"max-w-content mx-auto",children:[(0,l.jsx)("h1",{className:"text-[clamp(1.5rem,4vw,2.25rem)] mb-2",children:"Before & After Gallery"}),(0,l.jsx)("p",{className:"text-[0.95rem] text-ink-light",children:"Explore our portfolio of stunning home transformations. See how we turn ordinary spaces into extraordinary living environments."})]})}),(0,l.jsx)("div",{className:"sticky top-0 z-40 bg-paper border-b border-rule-light",children:(0,l.jsx)("div",{className:"max-w-content mx-auto py-3 sm:py-4 px-4 sm:px-6",children:(0,l.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:h.map(r=>(0,l.jsx)("button",{onClick:()=>t(r.id),className:"".concat("py-1.5 px-3 sm:py-2 sm:px-4 text-xs sm:text-sm font-[inherit] border border-rule bg-transparent text-ink cursor-pointer hover:bg-ink hover:text-white hover:border-ink"," ").concat(e===r.id?"!bg-ink !text-white border-ink":""),children:r.label},r.id))})})}),(0,l.jsx)("div",{className:"max-w-content mx-auto py-6 sm:py-8 px-4 sm:px-6",children:p?0===f.length?(0,l.jsx)("div",{className:"flex items-center justify-center py-16 text-ink-light",children:(0,l.jsx)("p",{className:"text-sm",children:"No projects to display."})}):(0,l.jsx)("div",{className:"grid gap-8 grid-cols-1",children:f.map((e,t)=>(0,l.jsxs)("div",{className:"bg-paper border border-rule cursor-pointer hover:border-ink-light",onClick:()=>i(e),style:{animationDelay:"".concat(.1*t,"s")},children:[(0,l.jsxs)("div",{className:"relative grid grid-cols-1 md:grid-cols-2 border-b border-rule",children:[(0,l.jsx)("div",{className:"w-full aspect-[4/3] bg-rule-light/10 overflow-hidden md:border-r border-rule flex items-center justify-center",children:e.before[0]?(0,l.jsx)("img",{src:e.before[0],alt:"".concat(e.title," - Before"),className:"w-full h-full object-cover block"}):(0,l.jsx)("span",{className:"text-ink-light text-sm",children:"No before image"})}),(0,l.jsx)("div",{className:"w-full aspect-[4/3] bg-rule-light/10 overflow-hidden flex items-center justify-center",children:e.after[0]?(0,l.jsx)("img",{src:e.after[0],alt:"".concat(e.title," - After"),className:"w-full h-full object-cover block"}):(0,l.jsx)("span",{className:"text-ink-light text-sm",children:"No after image"})}),(0,l.jsx)("span",{className:"absolute left-2 top-2 py-1.5 px-2 text-[0.7rem] uppercase tracking-wider bg-paper border border-rule",children:"BEFORE"}),(0,l.jsx)("span",{className:"absolute right-2 top-2 py-1.5 px-2 text-[0.7rem] uppercase tracking-wider bg-paper border border-rule md:right-2",children:"AFTER"}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 hover:opacity-100 transition-opacity pointer-events-none",children:(0,l.jsx)("span",{className:"text-paper font-serif",children:"Click to Compare"})})]}),(0,l.jsxs)("div",{className:"p-5",children:[(0,l.jsx)("h3",{className:"text-[1.1rem] mb-2",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-ink-light leading-relaxed",children:e.description}),(0,l.jsx)("span",{className:"inline-block text-xs text-ink-light mt-2",children:e.category.replace("-"," ")})]})]},e.id))}):(0,l.jsx)("div",{className:"flex items-center justify-center py-16 text-ink-light",children:(0,l.jsx)("p",{className:"text-sm",children:"Loading projects…"})})}),r&&(0,l.jsxs)("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center p-4 sm:p-6",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>{n(null),i(null)},role:"dialog","aria-modal":"true","aria-labelledby":"project-modal-title",children:[(0,l.jsx)("div",{className:"max-w-content w-full max-h-[90vh] bg-paper relative flex flex-col rounded-2xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:(0,l.jsxs)("div",{className:"overflow-y-auto flex-1 min-h-0",children:[(0,l.jsxs)("div",{className:"relative pt-14 sm:pt-6 px-6 sm:px-8",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{n(null),i(null)},className:"absolute top-14 right-6 sm:top-6 sm:right-8 w-11 h-11 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-full text-ink/70 hover:text-ink hover:bg-ink/5 focus:outline-none focus:ring-2 focus:ring-ink/30 focus:ring-offset-2 cursor-pointer transition-colors","aria-label":"Close (Escape)",children:(0,l.jsx)(m,{size:24,strokeWidth:1.75})}),(0,l.jsx)("h2",{id:"project-modal-title",className:"text-xl sm:text-2xl font-bold text-ink pr-14 leading-tight",children:r.title}),(0,l.jsx)("p",{className:"mt-4 text-[0.95rem] text-ink-light leading-relaxed max-w-[42rem]",children:r.description})]}),(0,l.jsx)("div",{className:"mx-6 sm:mx-8 mt-6 border-t border-rule-light"}),(0,l.jsxs)("div",{className:"px-6 sm:px-8 pt-6 pb-8 space-y-8",children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("p",{className:"text-[0.65rem] font-medium uppercase tracking-[0.2em] text-ink-light mb-3",children:"BEFORE"}),(0,l.jsx)("div",{className:"space-y-4",children:0===r.before.length?(0,l.jsx)("p",{className:"text-sm text-ink-light py-4",children:"No before images for this project."}):r.before.map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:r=>{r.stopPropagation(),n({url:e,alt:"Before ".concat(t+1)})},className:"rounded-lg overflow-hidden border border-rule-light w-full bg-rule-light/10 block text-left cursor-pointer hover:border-ink-light transition-colors focus:outline-none focus:ring-2 focus:ring-ink/30 focus:ring-offset-2",children:(0,l.jsx)("img",{src:e,alt:"Before ".concat(t+1),className:"w-full h-auto block pointer-events-none",draggable:!1})},"before-".concat(t)))})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("p",{className:"text-[0.65rem] font-medium uppercase tracking-[0.2em] text-ink-light mb-3",children:"AFTER"}),(0,l.jsx)("div",{className:"space-y-4",children:0===r.after.length?(0,l.jsx)("p",{className:"text-sm text-ink-light py-4",children:"No after images for this project."}):r.after.map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:r=>{r.stopPropagation(),n({url:e,alt:"After ".concat(t+1)})},className:"rounded-lg overflow-hidden border border-rule-light w-full bg-rule-light/10 block text-left cursor-pointer hover:border-ink-light transition-colors focus:outline-none focus:ring-2 focus:ring-ink/30 focus:ring-offset-2",children:(0,l.jsx)("img",{src:e,alt:"After ".concat(t+1),className:"w-full h-auto block pointer-events-none",draggable:!1})},"after-".concat(t)))})]})]})]})}),o&&(0,l.jsxs)("div",{className:"fixed inset-0 z-[1200] bg-black/90 overflow-auto",onClick:()=>n(null),role:"dialog","aria-modal":"true","aria-label":"View image full size",children:[(0,l.jsx)("button",{type:"button",onClick:()=>n(null),className:"fixed top-4 right-4 z-[1201] w-11 h-11 flex items-center justify-center rounded-full bg-white/10 text-white hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/50","aria-label":"Close",children:(0,l.jsx)(m,{size:24,strokeWidth:2})}),(0,l.jsx)("div",{className:"inline-block p-4 align-top",onClick:e=>e.stopPropagation(),children:(0,l.jsx)("img",{"data-fullsize":!0,src:o.url,alt:o.alt,className:"block",style:{width:"auto",height:"auto",maxWidth:"none",maxHeight:"none",minWidth:"auto",minHeight:"auto",objectFit:"none"},draggable:!1})})]})]}),(0,l.jsx)("div",{className:"py-8 sm:py-12 px-4 sm:px-6 text-center border-t border-rule",children:(0,l.jsxs)("div",{className:"max-w-content mx-auto",children:[(0,l.jsx)("h2",{className:"text-xl mb-2",children:"Ready to Transform Your Home?"}),(0,l.jsx)("p",{className:"text-[0.95rem] text-ink-light mb-6",children:"Let's create your perfect before and after story. Get a free consultation today."}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-4",children:[(0,l.jsx)(a(),{href:"/contact",className:"".concat(g," bg-ink text-paper hover:bg-ink-light hover:border-ink-light"),children:"Get Free Estimate"}),(0,l.jsx)("a",{href:"tel:+1234567890",className:"".concat(g," bg-transparent text-ink hover:bg-ink hover:text-white"),children:"Call (123) 456-7890"})]})]})})]})}},9382:(e,t,r)=>{Promise.resolve().then(r.bind(r,5275))}},e=>{e.O(0,[619,373,441,255,358],()=>e(e.s=9382)),_N_E=e.O()}]);